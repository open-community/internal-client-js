{"version":3,"sources":["services/text.js"],"names":["createText","client","text","fetchParams","body","JSON","stringify","headers","createdText","PUT","err","NotFound","undefined","deleteText","id","DELETE","getText","GET","findText","author","account","authorAccount","identity","authorIdentity","content","context","creationDate","max","creationDateMax","min","creationDateMin","deletionDate","deletionDateMax","deletionDateMin","owner","pagination","offset","paginationOffset","size","paginationSize","search","sort","title","appendSearchParams","listTexts"],"mappings":"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","sourcesContent":["import { NotFound } from '../httpErrors';\n\n// ============================================================\n// Functions\n/**\n *\n * @param {Fetcher} client\n */\nasync function createText(\n    client,\n    text,\n) {\n    const fetchParams = {\n        body: JSON.stringify(text),\n        headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n        },\n    };\n\n    try {\n        const createdText = await client.PUT('/text', fetchParams);\n        return createdText;\n    } catch (err) {\n        if (err instanceof NotFound) {\n            return undefined;\n        }\n\n        throw err;\n    }\n}\n\n/**\n *\n * @param {Fetcher} client\n */\nasync function deleteText(\n    client,\n    id,\n) {\n    await client.DELETE(`/text/${id}`);\n}\n\n/**\n *\n * @param {Fetcher} client\n */\nasync function getText(\n    client,\n    id,\n) {\n    const createdText = await client.GET(`/text/${id}`);\n\n    return createdText;\n}\n\n/**\n * @param {Fetcher} client\n * @returns {Text[]}\n */\nasync function findText(\n    client,\n    {\n        author: {\n            account: authorAccount,\n            identity: authorIdentity,\n        } = {},\n        content,\n        context,\n        creationDate: {\n            max: creationDateMax,\n            min: creationDateMin,\n        } = {},\n        deletionDate: {\n            max: deletionDateMax,\n            min: deletionDateMin,\n        } = {},\n        id,\n        owner,\n        pagination: {\n            offset: paginationOffset,\n            size: paginationSize,\n        } = {},\n        search,\n        sort,\n        title,\n    } = {},\n) {\n    client.appendSearchParams('author.account.id', authorAccount);\n    client.appendSearchParams('author.identity.id', authorIdentity);\n    client.appendSearchParams('content', content);\n    client.appendSearchParams('context.id', context);\n    client.appendSearchParams('creation-date.max', creationDateMax);\n    client.appendSearchParams('creation-date.min', creationDateMin);\n    client.appendSearchParams('deletion-date.max', deletionDateMax);\n    client.appendSearchParams('deletion-date.min', deletionDateMin);\n    client.appendSearchParams('id', id);\n    client.appendSearchParams('owner.id', owner);\n    client.appendSearchParams('pagination.offset', paginationOffset);\n    client.appendSearchParams('pagination.size', paginationSize);\n    client.appendSearchParams('search', search);\n    client.appendSearchParams('sort', sort);\n    client.appendSearchParams('title', title);\n\n    const listTexts = await client.GET('/text');\n\n    return listTexts;\n}\n\n// ============================================================\n// Exports\nexport {\n    createText as create,\n    deleteText as delete,\n    getText as get,\n    findText as find,\n};\n"],"file":"text.js"}